import{b as e}from"../shared/browser-polyfill.js";e.runtime.onInstalled.addListener(()=>{console.log("[Breadcrumps] Extension installed")});e.runtime.onMessage.addListener(t=>{if(t.type==="SAVE_CONVERSATION"){const{conversation:n}=t,r=`conv_${Date.now()}`;return e.storage.local.set({[r]:n}).then(()=>(console.log("[Breadcrumps] Saved conversation"),{success:!0,key:r}))}return t.type==="GET_SAVED_CONVERSATIONS"?e.storage.local.get(null).then(n=>({conversations:Object.entries(n).filter(([o])=>o.startsWith("conv_")).map(([o,s])=>({key:o,...s}))})):Promise.resolve()});
